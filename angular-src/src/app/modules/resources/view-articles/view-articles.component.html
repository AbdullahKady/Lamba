<!--/.Card-->
<div class="container" *ngIf="articlesInitialized && tagsInitialized" >
  <div class="row">
    <div class="col-lg-4">
      <!-- Categories Widget -->
      <div  class="card my-4 text-center">
        <h5 class="card-header">Share your experience with others</h5>
        <div class="button-row" style="text-align: center;">
    <a style="color:#3F729B; font-family: Roboto;" class="btn btn-primary rounded-circle" [routerLink]="['post']" role="button">
    <i class="fa fa-plus mr-2" aria-hidden="true"></i>Post new article</a>
  </div>
      </div>
      <!-- Side Widget -->
      <div  class="card my-4 text-center">
        <h5 class="card-header"><i class="fa fa-filter mr-2" aria-hidden="true"></i>Filter</h5>
        <div class="card-body">
          <tag-input [(ngModel)]="selectedTags" [onlyFromAutocomplete]="true" (onRemove)="onTagsChanged()" (onTextChange)="onTagsChanged()" placeholder ="Enter a tag or a keyword">
          <tag-input-dropdown [showDropdownIfEmpty]="true" [dynamicUpdate]="false" [focusFirstElement]="true" [displayBy]="'value'"
            [identifyBy]="'id'" [autocompleteItems]="allTags">
            <ng-template let-item="item">
              {{ item.value }}
            </ng-template>
          </tag-input-dropdown>
        </tag-input>
        <hr>
        <p>You can filter by a keyword or a tag</p>
        </div>
      </div>

    </div>
    <div class="col-lg-8">
      <!-- TODO: | paginate: { itemsPerPage: 2, currentPage: p }; -->
      <div *ngFor=" let article of articles | filterByTags: filterTagsIDs let i =index; let o = odd;">
        <div class = "row" *ngIf="o">
          <div class="col col-50">
            <div class="card">
              <!--Card image-->
              <div class="view hm-white-slight waves-light" mdbRippleRadius>
                <img src="https://i2.wp.com/penpaperpencil.net/wp-content/uploads/2016/01/Drawing-pencils-guide.jpg?fit=900%2C490&ssl=1" class="img-fluid" alt="Card image with a tree in a middle of a lake.">
                <a>
                </a>
              </div>
              <!--Card content-->
              <div class="card-body">
                <!--Title-->
                <h4 style="text-align: center;" class="card-title">{{articles[i].title}}</h4>
                <!--Text-->
                <div *ngFor="let tag of articles[i].tags"></div>
                <p class="card-text">{{tag}}</p>
                <hr>
                <div style="color: #3F729B; font-family: Roboto;" class="row">
                  <div style="text-align: center;" class="col-4 col-md-4">
                    <i class="fa fa-thumbs-o-up mr-1" aria-hidden="true">{{articles[i].upvoters.length}}</i>
                    <i class="fa fa-thumbs-o-down mr-1" aria-hidden="true">{{articles[i].downvoters.length}}</i>
                  </div>
                  <div align="right" class="col-6 col-md-8">
                    <a [routerLink]="['id',article._id]">
                      <h5 class="waves-effect p-2" mdbRippleRadius>Read more <i class="fa fa-chevron-right"></i></h5>
                    </a>
                  </div>
                </div>
                <!-- </div> -->

                <hr>

                <p style="text-align: center;" class="card-text"><a style="cursor: pointer;" [routerLink]="['/profile',articles[i].owner_id._id]">
                Posted by: {{articles[i].owner_id.name.firstName}} {{articles[i].owner_id.name.lastName}}</a>
                <br>
                on {{articles[i].createdAt | date}}
              </p>
            </div>
          </div>
        </div>
        <div *ngIf="i+1 < articles.length" class="col col-50">
          <div class="card">
            <!--Card image-->
            <div class="view hm-white-slight waves-light" mdbRippleRadius>
              <img src="https://i2.wp.com/penpaperpencil.net/wp-content/uploads/2016/01/Drawing-pencils-guide.jpg?fit=900%2C490&ssl=1" class="img-fluid" alt="Card image with a tree in a middle of a lake.">
              <a>
                <!--  <div class="mask"></div> -->
              </a>
            </div>
            <!--Card content-->
            <div class="card-body">
              <!--Title-->
              <h4 style="text-align: center;" class="card-title">{{articles[i+1].title}}</h4>
              <!--Text-->
              <p class="card-text">{{articles[i+1].tags}}</p>
              <hr>
              <div style="color: #3F729B; font-family: Roboto;" class="row">
                <div style="text-align: center;" class="col-4 col-md-4">
                  <i class="fa fa-thumbs-o-up mr-1" aria-hidden="true">{{articles[i+1].upvoters.length}}</i>
                  <i class="fa fa-thumbs-o-down mr-1" aria-hidden="true">{{articles[i+1].downvoters.length}}</i>
                </div>
                <div align="right" class="col-6 col-md-8">
                  <a [routerLink]="['id',articles[i+1]._id]">
                    <h5 class="waves-effect p-2" mdbRippleRadius>Read more <i class="fa fa-chevron-right"></i></h5>
                  </a>
                </div>
              </div>
              <hr>

              <p style="text-align: center;" class="card-text"><a style="cursor: pointer;" [routerLink]="['/profile',articles[i+1].owner_id._id]">
              Posted by: {{articles[i+1].owner_id.name.firstName}} {{articles[i+1].owner_id.name.lastName}}</a>
              <br>
              on {{articles[i+1].createdAt | date}}
            </p>
          </div>
        </div>
      </div>
    </div>
    <br>
  </div>
<!--/Pagination -->

<hr>
<div style="text-align: center;">
<pagination-controls (pageChange)="p = $event"></pagination-controls>
</div>
</div>
</div>
<!-- TODO Paginating -->
