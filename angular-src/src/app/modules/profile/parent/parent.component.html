<!--Card-->
<div class="card card-cascade wider reverse my-4 myCardSize">
  <!--Background image-->
  <div>
    <img src="assets/nawwarBG.png" class="img-fluid">
    <a>
      <div class="mask"></div>
    </a>
  </div>
  <!--/Background image-->
  <!--Card content-->
  <div class="card-body text-center">
    <div class="avatar">
      <a (click)="open(img)">
        <img src="http://localhost:3000/api/uploads/store/{{currentUser?.photo}}" class="rounded-circle">
      </a>
      <ng-template #img let-c="close" let-d="dismiss">
        <div class="modal-header">
          <h4 class="modal-title">Your Image</h4>
          <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="container">
            <div class="row">
              <div class="col-12">
                <image-upload
                  [headers]="{authorization: token}"
                  [max]="1"
                  [url]="'http://127.0.0.1:3000/api/store/upload'"
                  [dropBoxMessage]="'Drop your image here!'"
                  [buttonCaption]="'Upload'"
                  [style]="customStyle"
                  (uploadFinished)="onUploadFinished($event)">
                </image-upload>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </div>

    <!--Title-->
    <h3 class="card-title"><strong>{{currentUser?.name.firstName}} {{currentUser?.name.lastName}}</strong></h3>
    <h4 class="indigo-text"><strong>{{currentUser?.role}}</strong></h4>


    <div class="mt-5">
      <ngb-tabset class="nav-justified">

        <ngb-tab title="Children">
          <ng-template ngbTabContent>
            <div class="container">
              <div class="row mt-2">
                <div class="col-12">
                  <ng-template #content let-c="close" let-d="dismiss">
                    <div class="modal-header">
                      <h4 class="modal-title">Add Child</h4>
                      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <div class="container">
                        <div class="row">
                          <div class="col-12">
                            <!--Register form-->

                            <form>
                              <div class="md-form mb-0">
                                <div class="row">
                                  <div class="col-md-6">
                                    <div class="md-form mb-0">
                                      <i class="material-icons prefix">face</i>
                                      <input type="text" id="orangeForm-firstName" class="form-control" #firstName
                                             mdbActive>
                                      <label for="orangeForm-firstName">first name</label>
                                    </div>
                                  </div>
                                  <div class="col-md-6">
                                    <div class="md-form mb-0">
                                      <i class="material-icons prefix">face</i>
                                      <input type="text" id="orangeForm-lastName" class="form-control" #lastName
                                             mdbActive>
                                      <label for="orangeForm-lastName">last name</label>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="md-form">
                                <i class="material-icons prefix">mail</i>
                                <input type="text" id="orangeForm-email" class="form-control" #username mdbActive>
                                <label for="orangeForm-email">username</label>
                              </div>
                              <div class="md-form">
                                <i class="material-icons prefix">lock</i>
                                <input type="password" id="orangeForm-pass" class="form-control" #password mdbActive>
                                <label for="orangeForm-pass">Your password</label>
                              </div>
                              <div class="md-form">
                                <i class="material-icons prefix">lock</i>
                                <input type="password" id="orangeForm-confirmPass" class="form-control" #confirmPassword
                                       mdbActive>
                                <label for="orangeForm-pass">Confirm password</label>
                              </div>
                              <div class="md-form">
                                <div class="md-form mb-0">
                                  <div class="row">
                                    <div class="col-lg-2 col-md-2 col-sm-4 col-4">
                                      <i class="material-icons prefix">people</i>
                                    </div>

                                    <div class="col-lg-2 col-md-2 col-sm-4 col-4 pt-3 form-check form-check-radio">
                                      <div class="md-form mb-0">
                                        <input class="form-check-input" type="radio" name="gender" value="male" #gender
                                               (click)="chooseGender('male')">Male
                                      </div>
                                    </div>

                                    <div class="col-lg-8 col-md-8 col-sm-4 col-4 pt-3 form-check form-check-radio ">
                                      <div class="md-form mb-0">
                                        <input class="form-check-input" type="radio" name="gender" value="female"
                                               #gender (click)="chooseGender('female')">Female
                                      </div>
                                    </div>

                                  </div>
                                </div>
                              </div>
                              <div class="text-center">
                                <div class="row">
                                  <div class="col-6">
                                    <button class="btn btn-deep-orange waves-light"
                                            (click)="newChild(firstName.value,lastName.value,username.value,password.value,confirmPassword.value)"
                                            mdbRippleRadius>Add
                                    </button>
                                  </div>
                                  <div class="col-6">
                                    <button type="button" class="btn btn-blue-grey waves-light"
                                            (click)="c('Close click')" mdbRippleRadius> Close
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </form>
                            <!--/Register form-->
                          </div>
                        </div>
                      </div>
                    </div>
                  </ng-template>
                  <button class="btn btn-unique waves-light float-right" (click)="open(content)">Add Child</button>
                </div>
              </div>


              <div class="row mt-3">
                <div class="col-lg-3 col-md-4 col-sm-6 myCard" *ngFor="let child of myChildren">
                  <div class="card">
                    <img class="card-img-top rounded-circle mt-2"
                         src="http://localhost:3000/api/uploads/store/{{child.photo}}">
                    <div class="card-block">
                      <h4 class="card-title mt-3 grey-text">{{ child.name.firstName }} {{ child.name.lastName }}</h4>
                    </div>
                    <div class="card-footer">
                      <ng-template #content let-c="close" let-d="dismiss">
                        <div class="modal-header">
                          <h4 class="modal-title">Add Task</h4>
                          <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          <div class="container">
                            <div class="row">
                              <div class="col-12">
                                <!--Contact Form-->
                                <form>
                                  <div class="md-form">
                                    <i class="material-icons prefix">title</i>
                                    <input type="text" id="form3" class="form-control" #newTitle mdbActive>
                                    <label for="form3">Title</label>
                                  </div>
                                  <div class="md-form">
                                    <i class="material-icons prefix">description</i>
                                    <textarea type="text" id="form8" class="md-textarea" style="height: 100px"
                                              #newDescription mdbActive></textarea>
                                    <label for="form8">description</label>
                                  </div>

                                  <div class="text-center">
                                    <div class="row">
                                      <div class="col-6">
                                        <button class="btn btn-deep-orange waves-light"
                                                (click)="createNewTask(newTitle.value,newDescription.value,child._id)"
                                                mdbRippleRadius>Done
                                        </button>
                                      </div>
                                      <div class="col-6">
                                        <button type="button" class="btn btn-blue-grey waves-light"
                                                (click)="c('Close click')" mdbRippleRadius> Close
                                        </button>
                                      </div>
                                    </div>
                                  </div>
                                </form>
                                <!--Contact Form-->
                              </div>
                            </div>
                          </div>
                        </div>
                      </ng-template>
                      <div class="icon pull-right">
                        <a placement="bottom" ngbTooltip="add new task" (click)="open(content)"><i
                          class="fa fa-plus-circle fa-2x" aria-hidden="true"></i></a>
                        <a placement="bottom" ngbTooltip="Profile" (click)="viewChild(child._id)"><i
                          class="fa fa-user fa-2x" aria-hidden="true"></i></a>
                        <a placement="bottom" ngbTooltip="Messages"><i class="fa fa-envelope fa-fw fa-2x"
                                                                       aria-hidden="true"></i></a>
                        <a placement="bottom" ngbTooltip="Remove"><i class="fa fa-ban fa-2x" aria-hidden="true"></i></a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>
        </ngb-tab>


        <ngb-tab title="Tasks">
          <ng-template ngbTabContent>
            <div class="container">
              <div class="row mt-3">
                <div class="col-lg-3 col-md-4 col-sm-6" *ngFor="let task of tasks">
                  <div class="card text-white bg-primary mb-3" style="max-width: 18rem;">
                    <div class="card-header">{{task.title}}</div>
                    <div class="card-body">
                      <h5 class="card-title">{{(task.description | slice:0:50)}} ...</h5>
                      <p class="card-text white-text">Assigned to <a (click)="viewChild(task.studentId._id)"><strong>{{task.studentId.name.firstName}}
                        {{task.studentId.name.lastName}}</strong></a></p>
                    </div>
                    <div class="card-footer">
                      <div class="icon pull-right">
                        <a placement="bottom" ngbTooltip="Task" (click)="viewTask(task._id)"><i
                          class="fa fa-tasks fa-2x white-text mr-2"
                          aria-hidden="true"></i></a>
                        <a placement="bottom" ngbTooltip="Remove"><i class="fa fa-ban fa-2x white-text"
                                                                     aria-hidden="true"></i></a>
                      </div>
                    </div>
                  </div>
                </div>


              </div>
            </div>
          </ng-template>
        </ngb-tab>


        <ngb-tab title="Info">
          <ng-template ngbTabContent>

            <div class="container">

              <div class="row mt-2">
                <div class="col-12">

                  <ng-template #editInfo let-c="close" let-d="dismiss">

                    <div class="modal-header">
                      <h4 class="modal-title">Edit Personal Info</h4>
                      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>

                    <div class="modal-body">
                      <div class="container">
                        <div class="row">
                          <div class="col-12">
                            <!--Register form-->

                            <form>

                              <div class="md-form mb-0">
                                <div class="row">

                                  <div class="col-md-4">
                                    <div class="md-form mb-0">
                                      <i class="material-icons prefix">face</i>
                                      <input type="text" id="orangeForm-updatedFirstName" class="form-control"
                                             [ngModel]="currentUser?.name?.firstName"
                                             value="{{ currentUser?.name?.firstName }}"
                                             [ngModelOptions]="{standalone: true}"
                                             #updatedFirstName
                                             mdbActive>
                                      <label for="orangeForm-updatedFirstName">first name</label>
                                    </div>
                                  </div>

                                  <div class="col-md-4">
                                    <div class="md-form mb-0">
                                      <i class="material-icons prefix">face</i>
                                      <input type="text" id="orangeForm-updatedMiddleName" class="form-control"
                                             [ngModel]="currentUser?.name?.middleName"
                                             value="{{ currentUser?.name?.middleName }}"
                                             [ngModelOptions]="{standalone: true}"
                                             #updatedMiddleName
                                             mdbActive>
                                      <label for="orangeForm-updatedMiddleName">middle name</label>
                                    </div>
                                  </div>

                                  <div class="col-md-4">
                                    <div class="md-form mb-0">
                                      <i class="material-icons prefix">face</i>
                                      <input type="text" id="orangeForm-updatedLastName" class="form-control"
                                             [ngModel]="currentUser?.name?.lastName"
                                             value="{{ currentUser?.name?.lastName }}"
                                             [ngModelOptions]="{standalone: true}"
                                             #updatedLastName
                                             mdbActive>
                                      <label for="orangeForm-updatedLastName">last name</label>
                                    </div>
                                  </div>

                                </div>
                              </div>



<div class="row">
  <div class="col-6">
                              <div class="md-form">
                                <i class="material-icons prefix">date_range</i>
                                <input type="date" id="orangeForm-updatedBirthday" class="form-control"
                                       [ngModel]="currentUser?.birthday! | date:'yyyy-MM-dd'"
                                       value="{{ currentUser?.birthday! | date:'yyyy-MM-dd' }}"
                                       [ngModelOptions]="{standalone: true}"
                                       #updatedBirthday
                                       mdbActive>
                                <label for="orangeForm-updatedBirthday"></label>
                              </div>
</div>
<div class="col-6">

                              <div class="md-form">
                                <i class="material-icons prefix">phone</i>
                                <input type="text" id="orangeForm-updatedPhone" class="form-control"
                                       [ngModel]="currentUser?.phone!" value="{{ currentUser?.phone! }}"
                                       [ngModelOptions]="{standalone: true}"
                                       #updatedPhone
                                       mdbActive>
                                <label for="orangeForm-updatedPhone">Phone</label>
                              </div>
                            </div>

</div>
                              <div class="md-form mb-0">

                                <div class="row">

                                  <div class="col-md-6">
                                    <div class="md-form mb-0">
                                      <i class="material-icons prefix">streetview</i>
                                      <input type="text" id="orangeForm-updatedStreet" class="form-control"
                                             [ngModel]="currentUser?.address?.street!"
                                             value="{{ currentUser?.address?.street! }}"
                                             [ngModelOptions]="{standalone: true}"
                                             #updatedStreet mdbActive>
                                      <label for="orangeForm-updatedStreet">Street</label>
                                    </div>
                                  </div>

                                  <div class="col-md-6">
                                    <div class="md-form mb-0">
                                      <i class="material-icons prefix">location_city</i>
                                      <input type="text" id="orangeForm-updatedCity" class="form-control"
                                             [ngModel]="currentUser?.address?.city!"
                                             value="{{ currentUser?.address?.city! }}"
                                             [ngModelOptions]="{standalone: true}"
                                             #updatedCity
                                             mdbActive>
                                      <label for="orangeForm-updatedCity">City</label>
                                    </div>
                                  </div>

                                  <div class="col-md-6">
                                    <div class="md-form mb-0">
                                      <i class="material-icons prefix">location_searching</i>
                                      <input type="text" id="orangeForm-updatedState" class="form-control"
                                             [ngModel]="currentUser?.address?.state!"
                                             value="{{ currentUser?.address?.state! }}"
                                             [ngModelOptions]="{standalone: true}"
                                             #updatedState
                                             mdbActive>
                                      <label for="orangeForm-updatedState">Country</label>
                                    </div>
                                  </div>

                                  <div class="col-md-6">
                                    <div class="md-form mb-0">
                                      <i class="material-icons prefix">code</i>
                                      <input type="text" id="orangeForm-updatedZip" class="form-control"
                                             [ngModel]="currentUser?.address?.zip!"
                                             value="{{ currentUser?.address?.zip! }}"
                                             [ngModelOptions]="{standalone: true}"
                                             #updatedZip
                                             mdbActive>
                                      <label for="orangeForm-updatedZip">Zip Code</label>
                                    </div>
                                  </div>

                                </div>

                              </div>

                              <div class="md-form">
                                <i class="material-icons prefix">description</i>
                                <input type="text" id="orangeForm-updatedAbout" class="form-control"
                                       [ngModel]="currentUser?.about!" value="{{ currentUser?.about! }}"
                                       [ngModelOptions]="{standalone: true}"
                                       #updatedAbout
                                       mdbActive>
                                <label for="orangeForm-updatedAbout">About</label>
                              </div>

                              <div class="text-center">
                                <div class="row">
                                  <div class="col-6">
                                    <button class="btn btn-deep-orange waves-light"
                                            (click)="EditInfo(updatedFirstName.value, updatedMiddleName.value, updatedLastName.value,
                                                                updatedStreet.value, updatedCity.value, updatedState.value, updatedZip.value,
                                                                updatedBirthday.value, updatedPhone.value, updatedAbout.value)"
                                            mdbRippleRadius>Edit
                                    </button>
                                  </div>
                                  <div class="col-6">
                                    <button type="button" class="btn btn-blue-grey waves-light"
                                            (click)="c('Close click')" mdbRippleRadius> Close
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </form>
                            <!--/Register form-->

                          </div>
                        </div>
                      </div>
                    </div>

                  </ng-template>

                  <button class="btn btn-info waves-light float-right" (click)="openlg(editInfo)">Edit Info</button>

                </div>

              </div>

              <div class="row mt-3">

                <table class="table table-striped table-bordered table-hover">
                  <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Info</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr>
                    <th scope="row">First Name:</th>
                    <th scope="row">{{currentUser?.name.firstName}}</th>
                  </tr>

                  <tr>
                    <th scope="row">Middle Name:</th>
                    <th scope="row">{{currentUser?.name.middleName!}}</th>
                  </tr>

                  <tr>
                    <th scope="row">Last Name:</th>
                    <th scope="row">{{currentUser?.name.lastName}}</th>
                  </tr>

                  <tr>
                    <th scope="row">Birthday:</th>
                    <th scope="row">{{currentUser?.birthday! | date}}</th>
                  </tr>

                  <tr>
                    <th scope="row">Gender:</th>
                    <th scope="row">{{currentUser?.gender!}}</th>
                  </tr>

                  <tr>
                    <th scope="row">Phone:</th>
                    <th scope="row">{{currentUser?.phone!}}</th>
                  </tr>

                  <tr>
                    <th scope="row">Street:</th>
                    <th scope="row">{{currentUser?.address?.street!}}</th>
                  </tr>

                  <tr>
                    <th scope="row">City:</th>
                    <th scope="row">{{currentUser?.address?.city!}}</th>
                  </tr>

                  <tr>
                    <th scope="row">Country:</th>
                    <th scope="row">{{currentUser?.address?.state!}}</th>
                  </tr>

                  <tr>
                    <th scope="row">Zip Code:</th>
                    <th scope="row">{{currentUser?.address?.zip!}}</th>
                  </tr>


                  <tr>
                    <th scope="row">About:</th>
                    <th scope="row">{{currentUser?.about!}}</th>
                  </tr>

                  </tbody>
                </table>

              </div>

            </div>

          </ng-template>
        </ngb-tab>

      </ngb-tabset>
    </div>
  </div>
  <!--/.Card content-->
</div>
<!--/.Card-->
